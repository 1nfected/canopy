<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>canopy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css"
        rel="stylesheet">
    <style type="text/css">
        body
        {
            padding-top: 20px;
            padding-bottom: 60px;
        }
        
        /* Custom container */
        .container
        {
            margin: 0 auto;
            max-width: 1000px;
        }
        .container > hr
        {
            margin: 60px 0;
        }
        
        /* Main marketing message and sign up button */
        .jumbotron
        {
            margin: 80px 0;
            text-align: center;
        }
        .jumbotron h1
        {
            font-size: 66px;
            line-height: 1;
        }
        .jumbotron .lead
        {
            font-size: 24px;
            line-height: 1.25;
        }
        .jumbotron .btn
        {
            font-size: 21px;
            padding: 14px 24px;
        }
        
        /* Supporting marketing content */
        .marketing
        {
            margin: 60px 0;
        }
        .marketing p + h4
        {
            margin-top: 28px;
        }
        
        
        /* Customize the navbar links to be fill the entire space of the .navbar */
        .navbar .navbar-inner
        {
            padding: 0;
        }
        .navbar .nav
        {
            margin: 0;
            display: table;
            width: 100%;
        }
        .navbar .nav li
        {
            display: table-cell;
            width: 1%;
            float: none;
        }
        .navbar .nav li a
        {
            font-weight: bold;
            text-align: center;
            border-left: 1px solid rgba(255,255,255,.75);
            border-right: 1px solid rgba(0,0,0,.1);
        }
        .navbar .nav li:first-child a
        {
            border-left: 0;
            border-radius: 3px 0 0 3px;
        }
        .navbar .nav li:last-child a
        {
            border-right: 0;
            border-radius: 0 3px 3px 0;
        }
		
		#installModal .modal-body
		{
			max-height: 700px;
		}
    </style>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css"
        rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <div class="masthead">
            <h3 class="muted">
                canopy: web testing in f#</h3>
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="container">
                        <ul class="nav">
                            <li><a href="index.html">Home</a></li>
							<li class="active"><a href="about.html">About</a></li>
                            <li><a href="http://github.com/lefthandedgoat/canopy">Source</a></li>
                            <li><a href="http://nuget.org/packages/canopy">Nuget</a></li>
                            <li><a href="http://amirrajan.github.com/Oak/">Oak</a></li>
                            <li><a href="http://nspec.org/">nSpec</a></li>
                            <li><a href="http://research.microsoft.com/en-us/projects/fsharp/">f#</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- /.navbar -->
        </div>
        
        
        <div class="row-fluid">
            <div class="span12">                
                <p>
				<h3>About</h3>
                    canopy is a web testing framework with one goal in mind: keep testing simple. canopy is built on top of selenium and written in f#. It's syntax is clean and concise. As an added benefit you can easily leverage your existing .Net code to help you test. write, drag, etc...
                </p>                
				<p>
                <h3>Support or Feature Requests</h3>

Having trouble with canopy? Open an issue and I will see how I can help. For feature requests you may open an issue or send a pull request.
                </p>                
				<h3>More</h3>
I was asked recently for an overview of canopy, below is the response:

<div class="well">
<p>Hi Neal,</p>

<p>Hope you enjoyed Amir's podcast on Oak!</p>

<p>Currently there aren't any real blog posts about canopy.  I can give you some background/history/features/reasons behind canopy though.</p>

<p>A couple years ago I took on a role as a developer in a QA department to build up an automation tool for QA engineers, as well as work on a test suite.  My boss at the time chose to create his own DSL in Ruby for this task.  He wanted a gherkin (Given/When/Then) syntax but wasn't happy with the options: watir <a href="http://watir.com/">http://watir.com/</a> and capybara <a href="https://github.com/jnicklas/capybara">https://github.com/jnicklas/capybara</a>.  watir is its own standalone framework and capybara is a ruby DSL for Selenium.  The end results was a framework called sapphire <a href="https://github.com/MarcusTheBold/Sapphire">https://github.com/MarcusTheBold/Sapphire</a> which is also a DSL for Selenium. capybara's c# cousin is coypu <a href="https://github.com/featurist/coypu">https://github.com/featurist/coypu</a>. watir's c# cousin is watin <a href="http://watin.org/">http://watin.org/</a> (no new build in 2 years unfortunately)</p>

<p>Amir was also doing some Selenium automation at his client using c# and wrappers they had built on top of Selenium.  Around a year ago he asked me to create a ui testing tool to augment Oak.  We decided on f# (vs ruby) for several reasons: its great for writing DSLs, its a fully supported .Net language, and its has really good interop with c#, the compiler helps in writing tests, and its an all around awesome language.</p>

<p>Amir and I put our collective knowledge of ui automation and associated best practices together and decided to create a framework that allowed you to write ui tests without having to wrangle with Selenium.  In both of our opinions Selenium has a significant learning curve it can be a chore to get the most basic tests consistently passing.  People often put long sleeps in their tests to make sure that a page has finished loading, or an ajax call has completed etc.  Ultimately you may end up with a suite that is slow to run, has many false positives, and takes time to develop/extend.</p>

<p>canopy does many things to 'stabilize' selenium.  When working with raw selenium you often find yourself finding an element, which may not exist yet, explicitly waiting for it to show up, then checking its text to see that it has some value.  If it doesn't what do you do? Probably manually keep trying until it is the expected value or it will eventually fail. in canopy you simple write: "#firstname" == "Bob" that small amount of code will try over and over until A) #firstname exists, and B) its the value you expected.  With selenium, 'writing' to an element requires you know what type of element it is, so that you can set its text, its value, or select the correct option in a dropdown.  canopy wraps all that up into one command: "#lastname" << "Barker , for a drop down you would write the same "#state" << "TX" and 'it just works'</p>

<p>'It just works' is the overarching goal of canopy.  I don't think people should have to know how to make selenium do what you want, I think they should just write simple, sane statements and it does what you expect, and if the page is being a little slow, you aren't punished for it.
If you are trying to access an item in an IFrame, in selenium you have to explicitly switch to use the Iframe, grab the element, and what you want with it.  With canopy, if it cant find the element via a selector, it will look for Iframes, and loop through them and find the element for you.  If you typed your selector in incorrectly (forgot a . or # which I often do) your test will fail at that point, but canopy will also search your page and gives you some 'did you mean' options.  It will also automatically locate elements on their text/value so non technical people don't have to write css selectors ex: click "Submit" or it will find them based on their label if its a label/input pair ex: "First Name:" << "Tom".</p>

<p>Often times when writing a test you need to debug a test that is not working as you expect. The normal thing to do would be to comment out your other tests and sprinkle in some sleeps so that you can watch your test and see what it is doing.  With canopy you can simply change your test from 'test' to 'wip' (Work In Progress) and it will automatically skip non-wip tests, run your test slower, and highlight the elements that its interacting with so you can actually see whats going on.  Tests that fail take a screenshot to help you with debugging, and optionally canopy can run tests that failed in the previous run first, so you don't have to sit through 100s of consistently passing tests to get to that one problem test.  There is another test mode called 'many' that takes a number and it will run that one test over and over, which is great for ensuring that a test passes consistently.</p>

<p>This weekend I added a form of a coverage report that is pretty cool.  I attached a screenshot of what it produces from my test page.  It helps you see what on your page you have covered with tests.  Its pretty basic and needs some improvement.  This feature is not in the latest nuget package but will be release soon.</p>

<p>That's the not-so-short overview of canopy.  There are many more features too (Reports, TeamCity integration, ability to run the tests w/o the browser popping up, etc). The goal is to provide a tool that makes ui automation more consistent and approachable.</p>

<p>I hope this helps answer your question.  If I didn't touch on a topic well enough let me know and I can elaborate more.</p>

<p>Thanks for showing interest and I hope you find the right tool for your needs!</p>
</div>

                </p>                
            </div>            
        </div>
        <hr>
        <div class="footer">
				powered by f#        
        </div>
    </div>
    <!-- /container -->
    <div id="installModal" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                &times;</button>
            <h3>
                Install</h3>
        </div>
        <div class="modal-body">
            <p>
                Create a new f# console application:<img src="images/newProject.png" /></p>
            <br />
            <p>
                Set target framework to .NET Framework 4:<img src="images/profile.png" /></p>
            <br />
            <p>
                Install canopy via Nuget:<img src="images/installCanopy.png" /></p>
        </div>
        <div class="modal-footer">
        </div>
    </div>
    <div id="writeModal" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                &times;</button>
            <h3>
                Write</h3>
        </div>
        <div class="modal-body">
            <p>
                <pre>
open canopy
open runner

start firefox

"Go to google and search for hello world" &amp;&amp;&amp; fun _ ->
    url "http://google.com"
    "input[type='text']" << "hello world"

run()
            </pre>
            </p>
        </div>
        <div class="modal-footer">
        </div>
    </div>
    <div id="runModal" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                &times;</button>
            <h3>
                Modal header</h3>
        </div>
        <div class="modal-body">
            <p>
                Run:<img src="images/run.png" /></p>
            <p>
                Or:
                <pre>
Create <a href="https://github.com/fsharp/FAKE">FAKE</a> task
Create <a href="http://rake.rubyforge.org/">Rake</a> task
</pre>
            </p>
        </div>
        <div class="modal-footer">
        </div>
    </div>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js" type="text/javascript"></script>
</body>
<script>
    $(document).ready(function () {
        $('#install').click(function () {
            $("#installModal").modal('show');
        });

        $('#write').click(function () {
            $("#writeModal").modal('show');
        });

        $('#run').click(function () {
            $("#runModal").modal('show');
        });
    });
</script>
</html>
